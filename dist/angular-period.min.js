!function(){function e(e){var n=e[0],t=[n],r=e[e.length-1];do{if(n=n.nextSibling,!n)break;t.push(n)}while(n!==r);return angular.element(t)}function n(n,t){return{restrict:"A",controller:["$scope",function(e){this.cases={}}],link:function(o,c,u,l){function g(){var e=o.$eval(u.ngPeriodStart),n=o.$eval(u.ngPeriodEnd);if(e&&n){for(var c=new Date(e).getTime(),l=new Date(n).getTime(),g=(new Date).getTime(),h=null,f=0;f<d.length;f++)t.cancel(d[f]);c>g&&l>g?(d.push(t(function(){s(i)},c-g)),h=r):g>=c&&l>=g?(d.push(t(function(){s(a)},l-g)),h=i):g>l&&g>c&&(h=a),s(h)}}function s(t){function r(e){return function(){h.splice(e,1)}}for(var i=0;i<h.length;i++)n.cancel(h[i]);for(var i=0;i<f.length;i++){var a=e(v[i].clone);f[i].$destroy();var o=h[i]=n.leave(a);o.then(r(i))}f.length=0,v.length=0;var c=l.cases["!"+t];c&&c.forEach(function(e){e.transclude(function(t,r){f.push(r);var i=e.element;t[t.length++]=document.createComment(" end ngPeriodWhen: ");var a={clone:t};v.push(a),n.enter(t,i.parent(),i)})})}var d=[],h=[],f=[],v=[];o.$watch(u.ngPeriodStart,g),o.$watch(u.ngPeriodEnd,g)}}}function t(){return{transclude:"element",require:"^ngPeriod",restrict:"A",multiElement:!0,link:function(e,n,t,r,i){r.cases["!"+t.ngPeriodWhen]=r.cases["!"+t.ngPeriodWhen]||[],r.cases["!"+t.ngPeriodWhen].push({transclude:i,element:n})}}}var r="previous",i="during",a="after";n.$inject=["$animate","$timeout"],angular.module("angularPeriod",[]).directive("ngPeriod",n).directive("ngPeriodWhen",t)}();