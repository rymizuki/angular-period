!function(){function e(e){var n=e[0],t=[n],r=e[e.length-1];do{if(n=n.nextSibling,!n)break;t.push(n)}while(n!==r);return angular.element(t)}function n(e,n){var t=n-e;return t>u?u:t}function t(e,n){var t,r=(new Date).getTime();switch(!1){case!(e>r&&n>r):t=i;break;case!(r>=e&&n>=r):t=o;break;case!(r>n&&r>e):t=c}return console.debug("[ngPeriod] check state",t,e,n,r),t}function r(r,a){return{restrict:"A",controller:["$scope",function(e){this.cases={}}],link:function(c,u,s,g){function l(){var e=c.$eval(s.ngPeriodStart),n=c.$eval(s.ngPeriodEnd);if(e&&n){var t=new Date(e).getTime(),r=new Date(n).getTime();h(t,r)}}function d(e){return function(){v.splice(e,1)}}function h(c,u){for(var s=0;s<f.length;s++)a.cancel(f[s]);var l=t(c,u);console.debug('[ngPeriod] current state is "%s"',l);var p=(new Date).getTime();l===i&&(console.debug('[ngPeriod] set timer for stage change to "during"',n(p,c)),f.push(a(h,n(p,c),!0,c,u))),l===o&&(console.debug('[ngPeriod] set timer for stage change to "after"',n(p,u)),f.push(a(h,n(p,u),!0,c,u)));for(var s=0;s<v.length;s++)r.cancel(v[s]);for(var s=0;s<m.length;s++){var $=e(P[s].clone);m[s].$destroy();var b=v[s]=r.leave($);b.then(d(s))}m.length=0,P.length=0;var w=g.cases["!"+l];w&&w.forEach(function(e){e.transclude(function(n,t){m.push(t);var a=e.element;n[n.length++]=document.createComment(" end ngPeriodWhen: ");var i={clone:n};P.push(i),r.enter(n,a.parent(),a)})})}var f=[],v=[],m=[],P=[];c.$watch(s.ngPeriodStart,l),c.$watch(s.ngPeriodEnd,l)}}}function a(){return{transclude:"element",require:"^ngPeriod",restrict:"A",multiElement:!0,link:function(e,n,t,r,a){r.cases["!"+t.ngPeriodWhen]=r.cases["!"+t.ngPeriodWhen]||[],r.cases["!"+t.ngPeriodWhen].push({transclude:a,element:n})}}}var i="previous",o="during",c="after",u=2147483647;r.$inject=["$animate","$timeout"],angular.module("angularPeriod",[]).directive("ngPeriod",r).directive("ngPeriodWhen",a)}();