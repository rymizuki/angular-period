!function(){function e(e){var n=e[0],t=[n],r=e[e.length-1];do{if(n=n.nextSibling,!n)break;t.push(n)}while(n!==r);return angular.element(t)}function n(e,n){var t=n-e;return t>l?l:t}function t(e,n){var t,r=(new Date).getTime();switch(!1){case!(e>r&&n>r):t=i;break;case!(r>=e&&n>=r):t=a;break;case!(r>n&&r>e):t=c}return console.log("[ngPeriod] check state",t,e,n,r),t}function r(r,o){return{restrict:"A",controller:["$scope",function(e){this.cases={}}],link:function(c,l,u,g){function s(){var e=c.$eval(u.ngPeriodStart),n=c.$eval(u.ngPeriodEnd);if(console.log("watch action",u.ngPeriodStart,e,u.ngPeriodEnd,n),e&&n){var t=new Date(e).getTime(),r=new Date(n).getTime();h(t,r)}}function d(e){return function(){v.splice(e,1)}}function h(c,l){for(var u=0;u<f.length;u++)o.cancel(f[u]);var s=t(c,l);console.log('[ngPeriod] current state is "%s"',s);var p=(new Date).getTime();s===i&&(console.log('[ngPeriod] set timer for stage change to "during"',n(p,c)),f.push(o(function(){h(c,l)},n(p,c)))),s===a&&(console.log('[ngPeriod] set timer for stage change to "after"',n(p,l)),f.push(o(function(){h(c,l)},n(p,l))));for(var u=0;u<v.length;u++)r.cancel(v[u]);for(var u=0;u<m.length;u++){var w=e(P[u].clone);m[u].$destroy();var $=v[u]=r.leave(w);$.then(d(u))}m.length=0,P.length=0;var k=g.cases["!"+s];k&&k.forEach(function(e){e.transclude(function(n,t){m.push(t);var o=e.element;n[n.length++]=document.createComment(" end ngPeriodWhen: ");var i={clone:n};P.push(i),r.enter(n,o.parent(),o)})})}var f=[],v=[],m=[],P=[];c.$watch(u.ngPeriodStart,s),c.$watch(u.ngPeriodEnd,s)}}}function o(){return{transclude:"element",require:"^ngPeriod",restrict:"A",multiElement:!0,link:function(e,n,t,r,o){r.cases["!"+t.ngPeriodWhen]=r.cases["!"+t.ngPeriodWhen]||[],r.cases["!"+t.ngPeriodWhen].push({transclude:o,element:n})}}}var i="previous",a="during",c="after",l=2147483647;r.$inject=["$animate","$timeout"],angular.module("angularPeriod",[]).directive("ngPeriod",r).directive("ngPeriodWhen",o)}();